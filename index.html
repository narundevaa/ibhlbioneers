<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IBHL Bioneers ‚Äî IB Bio Study Hub</title>
  <meta name="description" content="IB Biology study guides & quizzes (HL/SL) ‚Äî IBHL Bioneers" />
  <style>
    :root{
      --accent:#0b6cf0; --muted:#6b7280; --bg:#f7f8fb; --card:#ffffff;
      --glass: rgba(255,255,255,0.7);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#eef2ff 0%,var(--bg) 100%);color:#0f172a}
    header{display:flex;align-items:center;gap:16px;padding:18px 28px;background:transparent}
    .logo{display:flex;align-items:center;gap:12px}
    .logo .mark{width:56px;height:56px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#7c3aed);display:flex;align-items:center;justify-content:center;color:white;font-weight:700;font-size:18px}
    .logo .title{font-weight:700}

    main{max-width:1100px;margin:28px auto;padding:20px}
    .search-wrap{text-align:center;margin-bottom:18px}
    .search{display:inline-flex;width:100%;max-width:760px;border-radius:12px;overflow:hidden;padding:6px;background:var(--card);box-shadow:0 6px 18px rgba(13, 38, 76, 0.06)}
    .search input{flex:1;padding:14px 16px;border:0;font-size:16px;background:transparent;outline:none}
    .search button{background:var(--accent);border:0;color:white;padding:10px 18px;border-radius:8px;margin-right:6px}

    .nav-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;margin:18px 0}
    .nav-card{background:var(--card);padding:20px;border-radius:12px;text-align:center;cursor:pointer;transition:transform .12s ease, box-shadow .12s ease}
    .nav-card:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(12,34,70,.08)}
    .nav-card h3{margin:8px 0 0}
    .small{font-size:13px;color:var(--muted)}

    .content{display:block;margin-top:12px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:14px}
    .guide{background:var(--card);border-radius:10px;padding:12px;display:flex;flex-direction:column;gap:10px;min-height:150px}
    .thumb{height:110px;background:linear-gradient(180deg,#eef 0%,#fff 100%);border-radius:8px;display:flex;align-items:center;justify-content:center;color:var(--muted);font-weight:600}
    .meta{display:flex;justify-content:space-between;align-items:center}
    .tag{font-size:12px;padding:6px 8px;border-radius:999px;background:var(--bg);border:1px solid rgba(15,23,42,.04)}
    footer{max-width:1100px;margin:26px auto;padding:20px;text-align:center;color:var(--muted)}

    /* quiz */
    .quiz-card{background:var(--card);padding:18px;border-radius:10px}
    .choices{display:flex;flex-direction:column;gap:10px;margin-top:12px}
    .choice{padding:12px;border-radius:8px;border:1px solid rgba(15,23,42,.06);cursor:pointer}
    .choice.correct{border-color:green;background:rgba(16,185,129,.07)}
    .choice.wrong{border-color:red;background:rgba(239,68,68,.06)}

    /* small screens */
    @media (max-width:700px){.nav-grid{grid-template-columns:repeat(2,1fr)}.logo .title{display:none}.grid{grid-template-columns:repeat(auto-fill,minmax(160px,1fr))}}
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <div class="mark">IBB</div>
      <div class="title">IBHL <span style="color:var(--muted);font-weight:500">Bioneers</span></div>
    </div>
    <div style="margin-left:auto;color:var(--muted);font-size:14px">IB Biology study hub ‚Äî HL/SL</div>
  </header>

  <main>
    <section class="search-wrap">
      <div class="search">
        <input id="searchInput" placeholder="Search study guides, quizzes, topics (e.g. 'photosynthesis', 'HL1', 'meiosis')" />
        <button id="searchBtn">Search</button>
      </div>
    </section>

    <section class="nav-grid" role="navigation" aria-label="main navigation">
      <div class="nav-card" data-route="#/" onclick="navigate('#/')">
        <div style="font-size:24px">üè†</div>
        <h3>Home</h3>
        <div class="small">Quick links and search</div>
      </div>
      <div class="nav-card" data-route="#/guides" onclick="navigate('#/guides')">
        <div style="font-size:24px">üìö</div>
        <h3>Study Guides</h3>
        <div class="small">PDF previews organized by HL/SL</div>
      </div>
      <div class="nav-card" data-route="#/quizzes" onclick="navigate('#/quizzes')">
        <div style="font-size:24px">üìù</div>
        <h3>Study Quizzes</h3>
        <div class="small">Interactive quizzes like Quizlet</div>
      </div>
    </section>

    <section id="app" class="content">
      <!-- Content rendered by JS -->
    </section>

  </main>

  <footer>
    Made for IBHL Bioneers ‚Ä¢ Place your PDFs in /assets/guides and update guides list in code.
  </footer>

  <script>
    // --- Data: Add your PDF URLs and quizzes here ---
    const guides = [
      {id:'g1',title:'Cell Structure (HL1)',level:'HL1',tags:['cells','ultra-structure'],pdf:'assets/guides/WaterStudyGuid.pdf'},
      {id:'g2',title:'Genetics Summary (SL)',level:'SL',tags:['genetics'],pdf:'assets/guides/genetics-summary.pdf'},
      {id:'g3',title:'Photosynthesis (HL2)',level:'HL2',tags:['photosynthesis'],pdf:''} // empty pdf -> placeholder
    ];

    const quizzes = [
      {id:'q1',title:'Cell Structure ‚Äî Quick MCQ',level:'HL1',questions:[
        {q:'Which organelle is the site of ATP production?',choices:['Nucleus','Mitochondrion','Golgi apparatus','Ribosome'],answer:1},
        {q:'Which structure is present in plant cells but not animal cells?',choices:['Centrioles','Cell wall','Lysosome','Flagellum'],answer:1}
      ]},
      {id:'q2',title:'Basic Genetics (SL)',level:'SL',questions:[
        {q:'If a diploid organism has 8 chromosomes, how many will be in a gamete?',choices:['4','8','16','2'],answer:0}
      ]}
    ];

    // --- Router ---
    function navigate(hash){location.hash = hash}
    function render(){
      const app = document.getElementById('app');
      const route = location.hash || '#/';
      if(route === '#/' ) renderHome(app);
      else if(route.startsWith('#/guides')) renderGuides(app);
      else if(route.startsWith('#/quizzes')) renderQuizzes(app);
      else renderNotFound(app);
    }

    // --- Helpers ---
    function el(tag,className,inner){const e=document.createElement(tag); if(className) e.className=className; if(inner!==undefined) e.innerHTML=inner; return e}

    // --- Home ---
    function renderHome(container){
      container.innerHTML='';
      const h = el('div','',`<h2>Welcome to IBHL Bioneers</h2><p class="small">Study guides and interactive quizzes for IB Biology (HL1, HL2, SL). Use the search bar to find resources across the site.</p>`);
      container.appendChild(h);
      // Quick links
      const grid = el('div','grid');
      // show featured items
      const featuredGuides = guides.slice(0,4);
      featuredGuides.forEach(g=>{
        const c = el('div','guide');
        const thumb = el('div','thumb', g.pdf ? `<span>Preview PDF</span>` : `<span>No preview</span>`);
        const title = el('div','',`<strong>${g.title}</strong>`);
        const meta = el('div','meta', `<div class="tag">${g.level}</div><div><button onclick="openGuide('${g.id}')">Open</button></div>`);
        c.appendChild(thumb); c.appendChild(title); c.appendChild(meta);
        grid.appendChild(c);
      });
      container.appendChild(grid);
    }

    // --- Guides page ---
    function renderGuides(container,filter=''){
      container.innerHTML='';
      const header = el('div','',`<h2>Study Guides</h2><p class="small">Click a card to open the PDF (opens in new tab). Guides are grouped by HL/SL and searchable.</p>`);
      container.appendChild(header);
      const grid = el('div','grid');
      const results = guides.filter(g=>{
        if(!filter) return true;
        const s = filter.toLowerCase();
        return g.title.toLowerCase().includes(s) || g.level.toLowerCase().includes(s) || (g.tags && g.tags.join(' ').toLowerCase().includes(s))
      });
      if(results.length===0){container.appendChild(el('p','small','No guides matched your search.')); return}
      results.forEach(g=>{
        const card = el('div','guide');
        const thumb = el('div','thumb', g.pdf?`<span>PDF</span>`:'<span>Upload PDF</span>');
        const title = el('div','',`<strong>${g.title}</strong>`);
        const meta = el('div','meta',`<div class="tag">${g.level}</div><div><button onclick="openGuide('${g.id}')">Open</button></div>`);
        card.appendChild(thumb); card.appendChild(title); card.appendChild(meta);
        grid.appendChild(card);
      });
      container.appendChild(grid);
    }

    function openGuide(id){
      const g = guides.find(x=>x.id===id);
      if(!g) return alert('Guide not found');
      if(g.pdf){ window.open(g.pdf,'_blank'); }
      else alert('PDF not uploaded yet. Place the PDF in /assets/guides and update the guides array in index.html with its filename.');
    }

    // --- Quizzes page ---
    function renderQuizzes(container,filter=''){
      container.innerHTML='';
      const header = el('div','',`<h2>Study Quizzes</h2><p class="small">Select a quiz to start. Answers are shown at the end and stored locally for review.</p>`);
      container.appendChild(header);
      const list = el('div','grid');
      const results = quizzes.filter(q=>{
        if(!filter) return true;
        const s = filter.toLowerCase();
        return q.title.toLowerCase().includes(s) || q.level.toLowerCase().includes(s)
      });
      if(results.length===0){container.appendChild(el('p','small','No quizzes matched your search.')); return}
      results.forEach(q=>{
        const card = el('div','guide');
        const thumb = el('div','thumb',`<span>Quiz</span>`);
        const title = el('div','',`<strong>${q.title}</strong>`);
        const meta = el('div','meta',`<div class="tag">${q.level}</div><div><button onclick="startQuiz('${q.id}')">Start</button></div>`);
        card.appendChild(thumb); card.appendChild(title); card.appendChild(meta);
        list.appendChild(card);
      });
      container.appendChild(list);
    }

    // --- Quiz runner ---
    let current = {quiz:null,index:0,score:0,answers:[]};
    function startQuiz(id){
      const q = quizzes.find(x=>x.id===id); if(!q) return;
      current.quiz = q; current.index=0; current.score=0; current.answers=[];
      renderQuizQuestion();
    }
    function renderQuizQuestion(){
      const container = document.getElementById('app'); container.innerHTML='';
      const q = current.quiz.questions[current.index];
      const card = el('div','quiz-card');
      card.innerHTML = `<h3>${current.quiz.title} ‚Äî Q${current.index+1}/${current.quiz.questions.length}</h3><p class="small">${q.q}</p>`;
      const choices = el('div','choices');
      q.choices.forEach((c,i)=>{
        const ch = el('div','choice',c);
        ch.onclick = ()=>selectChoice(i);
        choices.appendChild(ch);
      });
      card.appendChild(choices);
      container.appendChild(card);
    }
    function selectChoice(i){
      const qObj = current.quiz.questions[current.index];
      const isCorrect = i === qObj.answer;
      current.answers.push({question:qObj.q,chosen:i,correct:qObj.answer});
      if(isCorrect) current.score += 1;
      // show feedback
      const choices = document.querySelectorAll('.choice');
      choices.forEach((c,idx)=>{
        c.classList.remove('correct','wrong');
        if(idx===qObj.answer) c.classList.add('correct');
        if(idx===i && idx!==qObj.answer) c.classList.add('wrong');
        c.onclick = null;
      });
      // next button
      setTimeout(()=>{
        current.index +=1;
        if(current.index < current.quiz.questions.length) renderQuizQuestion();
        else renderQuizResult();
      },700);
    }
    function renderQuizResult(){
      const container = document.getElementById('app'); container.innerHTML='';
      const card = el('div','quiz-card');
      card.innerHTML = `<h3>${current.quiz.title} ‚Äî Result</h3><p class="small">Score: ${current.score} / ${current.quiz.questions.length}</p>`;
      const review = el('div');
      current.answers.forEach((a,idx)=>{
        const correct = a.correct; const chosen = a.chosen;
        const q = current.quiz.questions[idx];
        const item = el('div','',`<strong>Q${idx+1}.</strong> ${a.question} <div class="small">Your answer: ${q.choices[chosen]} | Correct: ${q.choices[correct]}</div><hr/>`);
        review.appendChild(item);
      });
      card.appendChild(review);
      const back = el('div','',`<div style="margin-top:12px"><button onclick="navigate('#/quizzes')">Back to quizzes</button></div>`);
      card.appendChild(back);
      container.appendChild(card);
    }

    function renderNotFound(container){container.innerHTML='<h2>Page not found</h2>'}

    // --- Search ---
    function doSearch(term){
      if(!term) { navigate('#/'); return }
      // search guides and quizzes
      const gMatches = guides.filter(g=> (g.title+ ' ' + g.tags.join(' ') + ' ' + g.level).toLowerCase().includes(term.toLowerCase()));
      const qMatches = quizzes.filter(q=> (q.title + ' ' + q.level).toLowerCase().includes(term.toLowerCase()));
      // If both empty, show no results on guides page
      if(gMatches.length===0 && qMatches.length===0){
        // show generic page with no results
        const app = document.getElementById('app'); app.innerHTML = `<h2>No results found for "${term}"</h2><p class="small">Try different keywords or check HL1 / HL2 / SL tags.</p>`; return;
      }
      // Prefer showing the combined results page
      const app = document.getElementById('app'); app.innerHTML='';
      const h = el('div','',`<h2>Search results for "${term}"</h2>`); app.appendChild(h);
      if(gMatches.length){ const gsec = el('div','',`<h3>Guides</h3>`); app.appendChild(gsec); const grid = el('div','grid'); gMatches.forEach(g=>{const card=el('div','guide'); card.innerHTML = `<div class="thumb">${g.pdf? 'PDF':'No PDF'}</div><strong>${g.title}</strong><div class="meta"><div class="tag">${g.level}</div><div><button onclick="openGuide('${g.id}')">Open</button></div></div>`; grid.appendChild(card)}); app.appendChild(grid)}
      if(qMatches.length){ const qsec = el('div','',`<h3>Quizzes</h3>`); app.appendChild(qsec); const grid2=el('div','grid'); qMatches.forEach(q=>{const card=el('div','guide'); card.innerHTML=`<div class="thumb">Quiz</div><strong>${q.title}</strong><div class="meta"><div class="tag">${q.level}</div><div><button onclick="startQuiz('${q.id}')">Start</button></div></div>`; grid2.appendChild(card)}); app.appendChild(grid2)}
    }

    // --- events ---
    document.getElementById('searchBtn').addEventListener('click', ()=>{ const v = document.getElementById('searchInput').value.trim(); doSearch(v); });
    document.getElementById('searchInput').addEventListener('keydown', (e)=>{ if(e.key === 'Enter'){ doSearch(e.target.value.trim()) } });
    window.addEventListener('hashchange', render);

    // initial render
    render();

    // --- Notes for maintainer (visible in code) ---
    /*
      To add guides:
      - Place PDFs in /assets/guides
      - Add an entry to `guides` array with {id,title,level,tags,pdf:'assets/guides/yourfile.pdf'}

      To add quizzes:
      - Edit `quizzes` array. Each quiz: {id,title,level,questions:[{q,choices:[..],answer:index}]}

      This is a pure static site (single file). For production you may split into files and add proper thumbnails.
    */
  </script>
</body>
</html>